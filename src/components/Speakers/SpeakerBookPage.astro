---
import type { Speaker } from "./speakers-types";
import CornerFlourish from "../CornerFlourish/CornerFlourish";

interface Props {
  speaker: Speaker;
  pageIndex: number;
}

const { speaker, pageIndex } = Astro.props;
---

<div class="page book__page" style={`--page-index: ${pageIndex};`}>
  <div class="page__half page__half--front">
    <article
      class="page-content speaker-page speaker-page--complete speaker-page--framed"
    >
      <CornerFlourish client:load position="top-left" />
      <CornerFlourish client:load position="top-right" />
      <CornerFlourish client:load position="bottom-left" />
      <CornerFlourish client:load position="bottom-right" />
      <div class="speaker-page__identity">
        <h2 class="speaker-page__name">{speaker.name}</h2>
        <p class="speaker-page__role">{speaker.role}</p>
      </div>
      <figure class="speaker-page__portrait">
        <img
          src={speaker.image.src}
          alt={speaker.image.alt}
          loading="lazy"
          decoding="async"
        />
      </figure>
      <div class="speaker-page__info">
        <p class="speaker-page__bio">{speaker.summary}</p>
        <ul class="speaker-page__socials">
          {
            speaker.socials?.map((social) => (
              <li>
                <a href={social.url} target="_blank" rel="noreferrer noopener">
                  {social.label}
                </a>
              </li>
            ))
          }
        </ul>
      </div>
    </article>
  </div>
  <div class="page__half page__half--back"></div>
</div>
